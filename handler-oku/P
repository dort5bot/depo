ğŸŸ§
Binance API ile Ã§oklu kullanÄ±cÄ± desteÄŸi saÄŸlayan handler
Otomatik volume formatlama (M/K)
AkÄ±llÄ± fiyat formatlama
USDT pairs ile sÄ±nÄ±rla
Binance datasÄ±nda kÃ¼Ã§Ã¼k/bÃ¼yÃ¼k fark olsa da eÅŸleÅŸir.
(/p bnb, /p BNB sonuÃ§ Ã¼retsin)

ğŸ•’ TTL Cache: Her kullanÄ±cÄ± + endpoint iÃ§in 60 saniye boyunca sonuÃ§lar sakla
ğŸ”„ Otomatik yenilenme: TTL dolduÄŸunda bir sonraki istekte yeni veri Ã§ek
ğŸ‘¥ Ã‡oklu kullanÄ±cÄ± gÃ¼venli:	Cache anahtarÄ± (user_id, endpoint) kombinasyonu.
ğŸ§¹ Otomatik temizlik:	Eski cache kayÄ±tlarÄ± TTL dolunca sil
âš¡ HÄ±zlÄ±
ğŸ§  Optimum performans iÃ§in optimize edilmiÅŸ
ğŸ•’ DÃ¼ÅŸÃ¼k gecikmeli (low-latency)
ğŸ‘¥ Ã‡ok kullanÄ±cÄ±lÄ± destekli
ğŸ” Asenkron Ã§alÄ±ÅŸan (asyncio + semaphore kontrollÃ¼)
ğŸ’¡ Yedekli veri sistemi (Aggregator baÅŸarÄ±sÄ±z olursa HTTP fallback)
ğŸš€ Kripto fiyat, deÄŸiÅŸim ve hacim verilerini Ã§oklu komutla sunar

| Optimizasyon                             | AÃ§Ä±klama                                                                      |
| ---------------------------------------- | ----------------------------------------------------------------------------- |
| **`orjson` JSON parser**                 | `json` yerine `orjson` ile Ã§ok daha hÄ±zlÄ± parsing yapÄ±lÄ±r.                    |
| **Global Cache**                         | AynÄ± endpoint'e 60 saniye boyunca tekrar istek yapÄ±lmaz (hafifletilmiÅŸ load). |
| **`heapq` ile sÄ±ralama**                 | `sorted()` yerine `nlargest` / `nsmallest` ile daha hÄ±zlÄ± top-N hesaplama.    |
| **Regex Precompile**                     | `normalize_symbol()` iÃ§inde her Ã§aÄŸrÄ±da yeniden derlenmeyen regex.            |
| **Async Semaphore**                      | AynÄ± anda 5 istekten fazla yapÄ±lmaz, rate limit dostu.                        |
| **String formatlarÄ± propertyâ€™e taÅŸÄ±ndÄ±** | Daha okunabilir, modÃ¼ler ve hÄ±zlÄ± Ã§Ä±ktÄ± Ã¼retimi saÄŸlanÄ±r.                     |



* tutarlÄ± olanlarÄ± bakÄ±m kolaylÄ±ÄŸÄ± iÃ§in class bloklarÄ± halinde

- Ã§oklu kullanÄ±cÄ±ya uygun p_handler.py dosyasÄ±nÄ± oluÅŸtur.
- p_handler.py  iÃ§in handler_loader.py ile tam uyumlu, 
- binance_a.py deki orjinal adlandÄ±rmayÄ± kullan, 
- binance api standartlarÄ±na uygun olarak p_handler.py handler geliÅŸtir
handler iÃ§in

>> coin belirtilmeden taranacak coin sayÄ±sÄ± configden alÄ±nacak veriler
from config import ScanConfig
scan_config = ScanConfig()

SCAN_SYMBOLS = scan_config.SCAN_SYMBOLS  # Ã–ntanÄ±mlÄ± takip edilecek coin sembolleri
SCAN_DEFAULT = scan_config.SCAN_DEFAULT_COUNT  # Komutlarda varsayÄ±lan gÃ¶sterim sayÄ±sÄ±
SCAN_MAX = scan_config.SCAN_MAX_COUNT  # Komutlarda izin verilen maksimum sayÄ±lar
CACHE_TTL = 60  # cache sÃ¼resi



handler gÃ¶revi: aÅŸaÄŸÄ±daki komutlara gÃ¶re sonuÃ§ Ã¼retmesi
- /p [symbols...] â†’ SeÃ§ilen coinlerin veya config SCAN_SYMBOLS listesinin fiyatlarÄ±nÄ± gÃ¶sterir
(/p btc , /p BNB btc fet ...)

- /pg [limit]     â†’ En Ã§ok yÃ¼kselen coinleri listeler
(/pg â†’ default deÄŸer kadar tara sonuÃ§ Ã¼ret. /pg 30 â†’ En Ã§ok yÃ¼kselen 30 coin)

- /pl [limit]     â†’ En Ã§ok dÃ¼ÅŸen coinleri listeler
(/pl â†’ default deÄŸer kadar tara sonuÃ§ Ã¼ret. /pl 25 â†’ En Ã§ok yÃ¼kselen 25 coin)

/Pv â†’ hacimli ilk n coin.
(/pv â†’ default deÄŸer kadar tara sonuÃ§ Ã¼ret. /pv 22 â†’ En Ã§ok hacimli 22 coin)

Rapor formatÄ± (coin adÄ±, deÄŸiÅŸim %, hacim, fiyat )
Ã¶rnek:
ğŸ“ˆ En Ã‡ok YÃ¼kselen 22 Coin
âš¡Coin | DeÄŸiÅŸim | Hacim | Fiyat
1. OPEN: 656.60% | $224.8M | 1.5132




ğŸŸ§
ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§ğŸŸ§
handlers/p_handler.py
Binance datasÄ±nda kÃ¼Ã§Ã¼k/bÃ¼yÃ¼k fark olsa da eÅŸleÅŸir.
handler_loader.py uyumlu

Bu handler, Binance API'sini kullanarak coin verilerini Ã§ekecek ve aiogram 3.x Router pattern'ine uygun ÅŸekilde Ã§alÄ±ÅŸacak
async/await pattern'ine uygun + aiogram 3.x e uygun + Router pattern yapÄ±da +  PEP8 + type hints + docstring + async yapÄ± + singleton + logging olacak yapÄ±da
Mevcut yorum bloklarÄ± (Ã¶r: # Rate limiting - HTTP) ekle
Aiogram 3.x Architecture

komutlar:
/p â†’CONFIG.SCAN_SYMBOLS default(filtre ekler btc ile btcusdt sonuÃ§ verir)
/Pn â†’ hacimli ilk n coin.  default 20 tane (Ã¶rnek /p30 /p40 ... destekler)
/Pd â†’ dÃ¼ÅŸenler coinler. default 20 tane
/Pd 30 â†’ dÃ¼ÅŸenler 30 tane
/P coin1 coin2... â†’ manuel seÃ§ili coinler.


Ã¶rnek raporlar:
/p

ğŸ“ˆ SCAN_SYMBOLS (Hacme GÃ¶re)
âš¡Coin | DeÄŸiÅŸim | Hacim | Fiyat
1. ETH: 0.23% | $888.8M | 4308.17
2. BTC: 0.37% | $657.1M | 111353.1
3. TRX: 0.21% | $340.8M | 0.3312
4. SOL: 0.70% | $268.1M | 203.75
...

/p22

ğŸ“ˆ En Ã‡ok YÃ¼kselen 22 Coin
âš¡Coin | DeÄŸiÅŸim | Hacim | Fiyat
1. OPEN: 656.60% | $224.8M | 1.5132
2. CREAM: 65.35% | $0.3M | 2.1
3. PNT: 45.23% | $0.3M | 0.035
4. SOMI: 44.54% | $489.4M | 1.6372
5. WLD: 42.98% | $469.9M | 1.497
...

/pd
ğŸ“ˆ DÃ¼ÅŸÃ¼ÅŸ Trendindeki Coinler
âš¡Coin | DeÄŸiÅŸim | Hacim | Fiyat
1. BETA: -64.00% | $0.3M | 0.00036
2. VIB: -63.26% | $0.4M | 0.00223
3. WTC: -56.54% | $0.5M | 0.0103
...


/p eth bnb sol

ğŸ“ˆ SeÃ§ili Coinler
âš¡Coin | DeÄŸiÅŸim | Hacim | Fiyat
1. BNB: 1.45% | $107.2M | 873.7
2. SOL: 0.73% | $269.2M | 203.78
3. ETH: 0.23% | $889.4M | 4307.04
