🟧
Binance API ile çoklu kullanıcı desteği sağlayan handler
Otomatik volume formatlama (M/K)
Akıllı fiyat formatlama
USDT pairs ile sınırla
Binance datasında küçük/büyük fark olsa da eşleşir.
(/p bnb, /p BNB sonuç üretsin)

🕒 TTL Cache: Her kullanıcı + endpoint için 60 saniye boyunca sonuçlar sakla
🔄 Otomatik yenilenme: TTL dolduğunda bir sonraki istekte yeni veri çek
👥 Çoklu kullanıcı güvenli:	Cache anahtarı (user_id, endpoint) kombinasyonu.
🧹 Otomatik temizlik:	Eski cache kayıtları TTL dolunca sil
⚡ Hızlı
🧠 Optimum performans için optimize edilmiş
🕒 Düşük gecikmeli (low-latency)
👥 Çok kullanıcılı destekli
🔁 Asenkron çalışan (asyncio + semaphore kontrollü)
💡 Yedekli veri sistemi (Aggregator başarısız olursa HTTP fallback)
🚀 Kripto fiyat, değişim ve hacim verilerini çoklu komutla sunar

| Optimizasyon                             | Açıklama                                                                      |
| ---------------------------------------- | ----------------------------------------------------------------------------- |
| **`orjson` JSON parser**                 | `json` yerine `orjson` ile çok daha hızlı parsing yapılır.                    |
| **Global Cache**                         | Aynı endpoint'e 60 saniye boyunca tekrar istek yapılmaz (hafifletilmiş load). |
| **`heapq` ile sıralama**                 | `sorted()` yerine `nlargest` / `nsmallest` ile daha hızlı top-N hesaplama.    |
| **Regex Precompile**                     | `normalize_symbol()` içinde her çağrıda yeniden derlenmeyen regex.            |
| **Async Semaphore**                      | Aynı anda 5 istekten fazla yapılmaz, rate limit dostu.                        |
| **String formatları property’e taşındı** | Daha okunabilir, modüler ve hızlı çıktı üretimi sağlanır.                     |



* tutarlı olanları bakım kolaylığı için class blokları halinde

- çoklu kullanıcıya uygun p_handler.py dosyasını oluştur.
- p_handler.py  için handler_loader.py ile tam uyumlu, 
- binance_a.py deki orjinal adlandırmayı kullan, 
- binance api standartlarına uygun olarak p_handler.py handler geliştir
handler için

>> coin belirtilmeden taranacak coin sayısı configden alınacak veriler
from config import ScanConfig
scan_config = ScanConfig()

SCAN_SYMBOLS = scan_config.SCAN_SYMBOLS  # Öntanımlı takip edilecek coin sembolleri
SCAN_DEFAULT = scan_config.SCAN_DEFAULT_COUNT  # Komutlarda varsayılan gösterim sayısı
SCAN_MAX = scan_config.SCAN_MAX_COUNT  # Komutlarda izin verilen maksimum sayılar
CACHE_TTL = 60  # cache süresi



handler görevi: aşağıdaki komutlara göre sonuç üretmesi
- /p [symbols...] → Seçilen coinlerin veya config SCAN_SYMBOLS listesinin fiyatlarını gösterir
(/p btc , /p BNB btc fet ...)

- /pg [limit]     → En çok yükselen coinleri listeler
(/pg → default değer kadar tara sonuç üret. /pg 30 → En çok yükselen 30 coin)

- /pl [limit]     → En çok düşen coinleri listeler
(/pl → default değer kadar tara sonuç üret. /pl 25 → En çok yükselen 25 coin)

/Pv → hacimli ilk n coin.
(/pv → default değer kadar tara sonuç üret. /pv 22 → En çok hacimli 22 coin)

Rapor formatı (coin adı, değişim %, hacim, fiyat )
örnek:
📈 En Çok Yükselen 22 Coin
⚡Coin | Değişim | Hacim | Fiyat
1. OPEN: 656.60% | $224.8M | 1.5132




🟧
🟧🟧🟧🟧🟧🟧🟧🟧🟧🟧🟧
handlers/p_handler.py
Binance datasında küçük/büyük fark olsa da eşleşir.
handler_loader.py uyumlu

Bu handler, Binance API'sini kullanarak coin verilerini çekecek ve aiogram 3.x Router pattern'ine uygun şekilde çalışacak
async/await pattern'ine uygun + aiogram 3.x e uygun + Router pattern yapıda +  PEP8 + type hints + docstring + async yapı + singleton + logging olacak yapıda
Mevcut yorum blokları (ör: # Rate limiting - HTTP) ekle
Aiogram 3.x Architecture

komutlar:
/p →CONFIG.SCAN_SYMBOLS default(filtre ekler btc ile btcusdt sonuç verir)
/Pn → hacimli ilk n coin.  default 20 tane (örnek /p30 /p40 ... destekler)
/Pd → düşenler coinler. default 20 tane
/Pd 30 → düşenler 30 tane
/P coin1 coin2... → manuel seçili coinler.


örnek raporlar:
/p

📈 SCAN_SYMBOLS (Hacme Göre)
⚡Coin | Değişim | Hacim | Fiyat
1. ETH: 0.23% | $888.8M | 4308.17
2. BTC: 0.37% | $657.1M | 111353.1
3. TRX: 0.21% | $340.8M | 0.3312
4. SOL: 0.70% | $268.1M | 203.75
...

/p22

📈 En Çok Yükselen 22 Coin
⚡Coin | Değişim | Hacim | Fiyat
1. OPEN: 656.60% | $224.8M | 1.5132
2. CREAM: 65.35% | $0.3M | 2.1
3. PNT: 45.23% | $0.3M | 0.035
4. SOMI: 44.54% | $489.4M | 1.6372
5. WLD: 42.98% | $469.9M | 1.497
...

/pd
📈 Düşüş Trendindeki Coinler
⚡Coin | Değişim | Hacim | Fiyat
1. BETA: -64.00% | $0.3M | 0.00036
2. VIB: -63.26% | $0.4M | 0.00223
3. WTC: -56.54% | $0.5M | 0.0103
...


/p eth bnb sol

📈 Seçili Coinler
⚡Coin | Değişim | Hacim | Fiyat
1. BNB: 1.45% | $107.2M | 873.7
2. SOL: 0.73% | $269.2M | 203.78
3. ETH: 0.23% | $889.4M | 4307.04
